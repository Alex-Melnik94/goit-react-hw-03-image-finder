{"version":3,"sources":["ImageGalleryItem-ui/ImageGalleryItem.module.css","Modal-ui/Modal.module.css","ImageGallery-ui/ImageGallery.module.css","Button-ui/button.module.css","ImageGalleryItem-ui/ImageGalleryItem.js","ImageGallery-ui/ImageGallery.js","Searchbar-ui/Searchbar.js","Button-ui/Button.js","Modal-ui/Modal.js","App.js","api.js","index.js","Searchbar-ui/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","id","img","tags","onImgClick","className","styles","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","webformatURL","Searchbar","state","searchQuery","handleQueryChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","Button","modalRoot","document","querySelector","Modal","onEscCloseModal","code","openModal","onCloseModal","target","window","addEventListener","removeEventListener","modalImg","createPortal","Overlay","largeImageURL","App","page","status","loader","handleBtnClick","prevState","showModal","imgForModal","find","image","handleFormSubmit","scroll","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","query","fetch","then","res","ok","json","Promise","reject","Error","fetchImages","hits","length","toast","error","catch","finally","color","height","width","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dce6ad25.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2_-Wr\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__VGmXd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2btH1\",\"Modal\":\"Modal_Modal__1wGkG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__jouaJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__mGynk\"};","import React from 'react';\nimport styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ id, img, tags, onImgClick }) => {\n  return (\n    <li\n      className={styles.ImageGalleryItem}\n      onClick={() => {\n        onImgClick(id);\n      }}\n    >\n      <img src={img} alt={tags} className={styles.ImageGalleryItemImage} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  img: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  onImgClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport styles from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem-ui/ImageGalleryItem';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ images, onImgClick }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images &&\n        images.map(({ id, webformatURL, tags }) => {\n          return (\n            <ImageGalleryItem\n              key={id}\n              id={id}\n              img={webformatURL}\n              tags={tags}\n              onImgClick={onImgClick}\n            />\n          );\n        })}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onImgClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import { Component } from 'react';\nimport styles from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleQueryChange = e => {\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.searchQuery.trim() === '') {\n      return;\n    }\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleQueryChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport styles from './button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" onClick={onClick} className={styles.Button}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.onEscCloseModal);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onEscCloseModal);\n  }\n\n  onEscCloseModal = e => {\n    if (e.code === 'Escape') {\n      this.props.openModal();\n    }\n  };\n\n  onCloseModal = e => {\n    if (e.currentTarget === e.target) {\n      this.props.openModal();\n    }\n  };\n\n  render() {\n    const { modalImg } = this.props;\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.onCloseModal}>\n        <div className={styles.Modal}>\n          <img src={modalImg.largeImageURL} alt={modalImg.tags} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import { Component } from 'react';\nimport styles from './styles.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { fetchImages } from './api';\n\nimport ImageGallery from './ImageGallery-ui/ImageGallery';\nimport Searchbar from './Searchbar-ui/Searchbar';\nimport Button from './Button-ui/Button';\nimport Modal from './Modal-ui/Modal';\nimport Loader from 'react-loader-spinner';\n\nexport default class App extends Component {\n  state = {\n    searchQuery: '',\n    images: [],\n    page: 1,\n    status: 'idle',\n    loader: false,\n    openModal: false,\n    modalImg: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page, searchQuery } = this.state;\n\n    if (searchQuery !== prevState.searchQuery || page > prevState.page) {\n      if (page === 1) {\n        this.setState({ images: [] });\n      }\n      this.setState({ loader: true });\n      fetchImages(searchQuery, page)\n        .then(res => {\n          const { hits } = res;\n          if (hits.length === 0) {\n            toast.error('Nothing was found for your query.');\n          }\n          this.setState(prevState => ({\n            status: 'resolved',\n            images: [...prevState.images, ...hits],\n          }));\n        })\n        .catch(() => {\n          this.setState({ status: 'rejected' });\n        })\n        .finally(() => {\n          this.setState({ loader: false });\n          if (this.state.images.length > 12) {\n            this.scroll();\n          }\n        });\n    }\n  }\n\n  handleBtnClick = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n      loader: true,\n    }));\n  };\n\n  showModal = () => {\n    this.setState(prevState => {\n      return { openModal: !prevState.openModal };\n    });\n  };\n\n  onImgClick = id => {\n    const { images } = this.state;\n    const imgForModal = images.find(image => image.id === id);\n    this.setState({ modalImg: imgForModal });\n    this.showModal();\n  };\n\n  handleFormSubmit = searchQuery => {\n    this.setState({ searchQuery, page: 1 });\n  };\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { status, images, loader, openModal, modalImg } = this.state;\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {status === 'idle' && null}\n        {status === 'resolved' ? (\n          <div>\n            <ImageGallery images={images} onImgClick={this.onImgClick} />\n            {images.length >= 12 && loader === false ? (\n              <Button onClick={this.handleBtnClick} />\n            ) : null}\n          </div>\n        ) : null}\n        {loader && (\n          <Loader\n            className=\"loader\"\n            type=\"ThreeDots\"\n            color=\"#FF0000\"\n            height={100}\n            width={100}\n          />\n        )}\n        {status === 'rejected' && toast.error('Some proplems with server')}\n        {openModal && <Modal openModal={this.showModal} modalImg={modalImg} />}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n","const URL = 'https://pixabay.com/api/';\nconst API_KEY = '21964701-aaf906e928d661c46acce114f';\n\nexport const fetchImages = function (query, page) {\n  return fetch(\n    `${URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error('Some proplems with server'));\n  });\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3k_Hk\",\"SearchForm\":\"Searchbar_SearchForm__2DKDA\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3Z6XG\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3FvmH\",\"SearchFormInput\":\"Searchbar_SearchFormInput__Xb7xN\"};"],"sourceRoot":""}